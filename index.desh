<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Shaheen Auto Parts - Simple App</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family: Arial, Helvetica, sans-serif; background:#f4f4f4; margin:0; padding:0;}
.card{background:#fff; padding:14px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); margin:20px;}
table{width:100%;border-collapse:collapse;margin-top:10px;}
th,td{padding:6px;border:1px solid #eee;text-align:center;font-size:14px;}
th{background:#fafafa;}
.edit-btn-col{ position:absolute; top:2px; right:4px; cursor:pointer; background:#4697ff; color:white; padding:4px 7px; border-radius:4px; font-size:14px; }
.dept-btn{ padding:10px 14px; margin:5px; background:#666; color:white; border-radius:6px; display:inline-block; cursor:pointer; }
.active{ background:#3d3d3d !important; }
#search{ width:100%; padding:10px; border-radius:8px; border:1px solid #bbb; }
#loginBox{ max-width:400px; margin:auto; margin-top:80px; padding:25px; background:white; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.2); text-align:center; }
.btn{ padding:10px 14px; background:#4697ff; color:white; border-radius:6px; border:none; cursor:pointer; }
</style>
</head>

<body>

<div id="loginBox">
<h2>Login</h2>
<input type="text" id="user" placeholder="Username" style="width:90%; padding:10px;"><br><br>
<input type="password" id="pass" placeholder="Password" style="width:90%; padding:10px;"><br><br>
<button class="btn" onclick="login()">Login</button>
</div>

<div id="main" style="display:none;">

<div class="card">
<h2>SAPL Stock System</h2>

<div>
<span class="dept-btn" onclick="setDept('DEPT-1')">DEPT-1</span>
<span class="dept-btn" onclick="setDept('DEPT-2')">DEPT-2</span>
<span class="dept-btn" onclick="setDept('DEPT-3')">DEPT-3</span>
</div>

<br>
<input id="search" placeholder="Search..." onkeyup="renderTable()">

<table>
<thead>
<tr>
<th>ID</th>
<th>Product</th>
<th>Opening</th>
<th>Prod</th>
<th>FG</th>
<th>Done</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

</div>

</div>

<script>
let dept = "DEPT-1";
let data = {
"DEPT-1":[{id:1,name:"P1",open:100,prod:0,fg:50,done:0}],
"DEPT-2":[{id:2,name:"P2",open:80,prod:0,fg:30,done:0}],
"DEPT-3":[{id:3,name:"P3",open:60,prod:0,fg:20,done:0}]
};

function login(){
let u = document.getElementById("user").value;
let p = document.getElementById("pass").value;
if(u=="admin" && p=="1234"){
document.getElementById("loginBox").style.display="none";
document.getElementById("main").style.display="block";
} else { alert("Incorrect Login"); }
}

function setDept(d){
dept = d;
renderTable();
}

function renderTable(){
let q = document.getElementById("search").value.toLowerCase();
let tbody = document.getElementById("rows");
tbody.innerHTML="";
data[dept]
.filter(p=>p.name.toLowerCase().includes(q))
.forEach(p=>{
tbody.innerHTML+= `
<tr>
<td>${p.id}</td>
<td>${p.name}</td>
<td>${p.open}</td>
<td><input type="number" value="${p.prod}" onchange="update(${p.id}, 'prod', this.value)"></td>
<td>${p.fg}</td>
<td><input type="number" value="${p.done}" onchange="update(${p.id}, 'done', this.value)"></td>
</tr>`;
});
}

function update(id, field, val) {
let item = data[dept].find(x=>x.id===id);
item[field] = Number(val);
renderTable();
}

renderTable();
</script>

</body>
</html>
