<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vendor Stock</title>
<style>
    body {
        font-family: Arial;
        background: #f2f4f7;
        margin: 0;
        padding: 20px;
    }

    .top-bar {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
    }

    .top-bar input {
        padding: 8px;
        width: 220px;
        border-radius: 6px;
        border: 1px solid #aaa;
    }

    .btn {
        padding: 8px 14px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
    }

    .btn-refresh { background: #3498db; color: white; }
    .btn-apply { background: #27ae60; color: white; }
    
    table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 10px;
        overflow: hidden;
    }

    th {
        background: #2c3e50;
        color: white;
        padding: 10px;
    }

    td {
        padding: 8px;
        border-bottom: 1px solid #ddd;
    }

    .locked {
        background: #e8e8e8;
        pointer-events: none;
    }
</style>
</head>
<body>

<div class="top-bar">
    <button class="btn btn-refresh" onclick="location.reload()">Refresh</button>
    <input id="searchBox" onkeyup="searchTable()" placeholder="Search ID / Part No / Name">
</div>

<table id="vendorTable">
    <thead>
        <tr>
            <th>ID</th>
            <th class="locked">Part No</th>
            <th class="locked">Part Name</th>
            <th class="locked">Part Model</th>
            <th>Date</th>
            <th>Time</th>
            <th>Admin</th>
            <th>Vendor Name</th>
            <th>Stock Qty</th>
            <th>Type</th>
            <th>Apply</th>
        </tr>
    </thead>
    <tbody>
        <!-- Auto generate 500 rows -->
        <script>
            for (let i = 1; i <= 500; i++) {
                document.write(`
                <tr>
                    <td>${i}</td>
                    <td class="locked">-</td>
                    <td class="locked">-</td>
                    <td class="locked">-</td>

                    <td><span id="date${i}">-</span></td>
                    <td><span id="time${i}">-</span></td>
                    <td><span id="admin${i}">-</span></td>

                    <td contenteditable="true"></td>
                    <td contenteditable="true"></td>
                    <td contenteditable="true"></td>

                    <td><button class="btn btn-apply" onclick="applyRow(${i})">Apply</button></td>
                </tr>
                `);
            }

            function applyRow(id) {
                let now = new Date();
                document.getElementById("date" + id).innerText =
                    now.toISOString().split('T')[0];

                document.getElementById("time" + id).innerText =
                    now.toTimeString().split(' ')[0];

                document.getElementById("admin" + id).innerText = "Admin-1234";

                // stock qty ko ZERO auto
                document.querySelectorAll(`#vendorTable tr:nth-child(${id + 1}) td`)[8].innerText = "0";
            }

            function searchTable() {
                let filter = document.getElementById("searchBox").value.toLowerCase();
                let rows = document.querySelectorAll("#vendorTable tbody tr");

                rows.forEach(row => {
                    let text = row.innerText.toLowerCase();
                    row.style.display = text.includes(filter) ? "" : "none";
                });
            }
        </script>
    </tbody>
</table>

</body>
</html>
